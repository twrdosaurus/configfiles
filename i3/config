############################################
# Config file for i3 by Johan (twrosaurus) #
#         Use and edit as you want         #
############################################
# i3 config file (v4)                      #
# http://i3wm.org/docs/userguide.html      #
############################################

# === Style ===
# Using Anonymous Pro
font pango:"Anonymous Pro" 11px

# Enable transparancy with xcompmgr
exec xcompmgr -n

# Background images using feh
exec --no-startup-id feh --bg-scale ~/Pictures/backgrounds/rainy-forest.jpg

# Define colors
set $black #090e11
set $white #ecf0f1
set $gray #2c3e50
set $light_gray #bdc3c7
set $red #c0392b
set $green #bdc3c7
set $yellow #bdc3c7
set $blue #bdc3c7
set $purple #bdc3c7
set $dark_green #bdc3c7

# Color classes                 border          backgr          text            indicator       child_border
client.focused                  $white          $light_gray     $black          $purple         $light_gray
client.unfocused                $gray           $light_gray     $white          $purple         $light_gray
client.focused_inactive         $light_gray     $light_gray     $black          $purple         $light_gray
client.urgent                   $red            $light_gray     $white          $purple         $light_gray

# Setting up rofi colors (TODO: Move this to $$$)
set $roficolors -color-window "argb:b5090e11, argb:b5090e11, #2c3e50" -color-normal "argb:0090e11, #ecf0f1, argb:0090e11, #2980b9, #2c3e50" -color-active "argb:0090e11, #ecf0f1, argb:0090e11, argb:0090e11, #ecf0f1" -color-urgent "argb:0fdf6e3, #c0392b, argb:0eee8d5, #c0392b, #ecf0f1"

# === Settings ===
# Handles labeling windows to urgent
focus_on_window_activation smart

# Hides borders when there's only one window
hide_edge_borders none

# Setting the terminal och choice
set $terminal konsole

# Setting the runner
set $runner exec rofi -padding 300 -fullscreen -separator-style none -show run $roficolors

# Starting NetworkManager applet
exec --no-startup-id nm-applet

# === Key defies ===
# Mod key
#  - Values: Mod1(Alt key), Mod4(Windows key)
set $mod Mod4

# Direction keys
set $up k
set $down j
set $right l
set $left h

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Starts the terminal of choice
bindsym $mod+Return             exec $terminal

# kill focused window
bindsym $mod+w                  kill

# Runs the selected runner
bindsym $mod+t                  exec $runner

# Change focus
bindsym $mod+$left              focus left
bindsym $mod+$down              focus down
bindsym $mod+$up                focus up
bindsym $mod+$right             focus right

# Focus up or down
bindsym $mod+a                  focus parent
bindsym $mod+d                  focus child

# Move focused window
bindsym $mod+Shift+$left        move left
bindsym $mod+Shift+$down        move down
bindsym $mod+Shift+$up          move up
bindsym $mod+Shift+$right       move right

# Split in horizontal orientation
bindsym $mod+q                  split h

# Split in vertical orientation
bindsym $mod+e                  split v

# Enter fullscreen mode for the focused container
bindsym $mod+f                  fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s                  layout stacking
bindsym $mod+w                  layout tabbed
bindsym $mod+e                  layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space        floating toggle

# change focus between tiling / floating windows
bindsym $mod+space              focus mode_toggle

# switch to workspace
bindsym $mod+1                  workspace 1
bindsym $mod+2                  workspace 2
bindsym $mod+3                  workspace 3
bindsym $mod+4                  workspace 4
bindsym $mod+5                  workspace 5
bindsym $mod+6                  workspace 6
bindsym $mod+7                  workspace 7
bindsym $mod+8                  workspace 8
bindsym $mod+9                  workspace 9
bindsym $mod+0                  workspace 10

# move focused container to workspace
bindsym $mod+Shift+1            move container to workspace 1
bindsym $mod+Shift+2            move container to workspace 2
bindsym $mod+Shift+3            move container to workspace 3
bindsym $mod+Shift+4            move container to workspace 4
bindsym $mod+Shift+5            move container to workspace 5
bindsym $mod+Shift+6            move container to workspace 6
bindsym $mod+Shift+7            move container to workspace 7
bindsym $mod+Shift+8            move container to workspace 8
bindsym $mod+Shift+9            move container to workspace 9
bindsym $mod+Shift+0            move container to workspace 10

# reload the configuration file
bindsym $mod+Shift+c            reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r            restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'Exit i3?' -b 'Yes' 'i3-msg exit'"

# == Modes ==
# Resize window mode
mode "resize" {
        # To exit mode, use: 'Return' or 'Escape'
        bindsym Return mode "default"
        bindsym Escape mode "default"
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym j resize shrink width 10 px or 10 ppt
        bindsym k resize grow height 10 px or 10 ppt
        bindsym l resize shrink height 10 px or 10 ppt
        bindsym odiaeresis resize grow width 10 px or 10 ppt
}

bindsym $mod+r mode "resize"

# Default Status bar, shown only on the laptop
bar {
        id statusbar
        output LVDS1
        tray_output LVDS1
        position top
        status_command i3status
        colors {
                background              $black
                separator               $light_gray
                statusline              $white
                # Workspace type        border          background      text
                focused_workspace       $black          $light_gray     $black
                inactive_workspace      $light_gray     $black          $light_gray
                active_workspace        $black          $gray           $black
                urgent_workspace        $red            $black          $red
                binding_mode            $blue           $blue           $blue
        }
}

# Enable media buttons
bindsym XF86AudioRaiseVolume exec konsole